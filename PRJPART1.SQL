DROP TABLE ENROLLMENT;
DROP TABLE COURSE_OFFERINGS;
DROP TABLE FACULTY;
DROP TABLE STUDENT;
DROP TABLE CATALOG;
DROP TABLE MAJOR;
DROP TABLE DEPARTMENT;

CREATE TABLE DEPARTMENT
(DEPTNUM CHAR(6) CONSTRAINT DEPARTMENT_DEPTNUM_PK PRIMARY KEY,
DDESC VARCHAR2(30) CONSTRAINT DEPARTMENT_DDESC_NN NOT NULL);

CREATE TABLE MAJOR
(MCODE CHAR(4) CONSTRAINT MAJOR_MCODE_PK PRIMARY KEY,
MDESC VARCHAR2(30) CONSTRAINT MAJOR_MDESC_NN NOT NULL,
DEPTNUM CHAR(6) CONSTRAINT MAJOR_DEPTNUM_FK REFERENCES DEPARTMENT (DEPTNUM));

CREATE TABLE CATALOG
(CCOURSENUM CHAR(6) CONSTRAINT CATALOG_CCOURSENUM_PK PRIMARY KEY,
CDESC VARCHAR2(50),
CCREDIT NUMBER(1),
UNIQUE (CDESC));

CREATE TABLE STUDENT
(SSSN CHAR (9) CONSTRAINT STUDENT_SSSN_PK PRIMARY KEY,
SFNAME VARCHAR2(30) CONSTRAINT STUDENT_SFNAME_NN NOT NULL,
SLNAME VARCHAR2(30) CONSTRAINT STUDENT_SLNAME_NN NOT NULL,
SADD VARCHAR2(30),
SCITY VARCHAR2(20),
SSTATE CHAR(2),
SZIP CHAR(10),
SMAJORCODE CHAR(4) CONSTRAINT STUDENT_SMAJORCODE_FK REFERENCES MAJOR (MCODE),
SCLASS CHAR(2) CONSTRAINT STUDENT_CLASS_CC CHECK ((SCLASS = 'FR') OR (SCLASS = 'SO') OR (SCLASS = 'JR') OR (SCLASS = 'SR') OR (SCLASS = 'GR')),
SGPA NUMBER(3,2));

CREATE TABLE FACULTY
(FSSN CHAR(11) CONSTRAINT FACULTY_FSSN_PK PRIMARY KEY,
FFNAME VARCHAR2(30) CONSTRAINT FACULTY_FFNAME_NN NOT NULL,
FLNAME VARCHAR2(30) CONSTRAINT FACULTY_FLNAME_NN NOT NULL,
FADD VARCHAR2(30),
FCITY VARCHAR2(30),
FSTATE CHAR(2),
FZIP CHAR(10),
FHIREDATE DATE,
FDEPT CHAR(6) CONSTRAINT FACULTY_FDEPT_FK REFERENCES DEPARTMENT (DEPTNUM),
FRANK CHAR(5) CONSTRAINT FACULTY_FRANK_CC CHECK ((FRANK = 'Asst') OR (FRANK = 'Assc') OR (FRANK = 'Full') OR (FRANK = 'Inst') OR (FRANK = 'Adjt') OR (FRANK = 'Prof') OR (FRANK = 'Asst.')),
FSALARY NUMBER(6),
FSUPERVISOR CHAR(11) CONSTRAINT FACULTY_FACULTY_FK REFERENCES FACULTY (FSSN));

CREATE TABLE COURSE_OFFERINGS
(COURSENUM CHAR(6) CONSTRAINT COURSE_OFFERINGS_COURSENUM_FK REFERENCES CATALOG (CCOURSENUM),
COSECNUM CHAR(2),
COTERM VARCHAR2(6) CONSTRAINT COURSE_OFFERINGS_COTERM_NN NOT NULL,
COYEAR DATE CONSTRAINT COURSE_OFFERINGS_COYEAR_NN NOT NULL,
COROOM CHAR(7),
COTIME CHAR(5) CONSTRAINT COURSE_OFFERINGS_COTIME_NN NOT NULL,
CODAYS VARCHAR2(8) CONSTRAINT COURSE_OFFERINGS_CODAYS_NN NOT NULL,
COSSN CHAR(11) CONSTRAINT COURSE_OFFERINGS_COSSN_FK REFERENCES FACULTY (FSSN),
COURSEKEY VARCHAR2(8) CONSTRAINT COURSE_OFFERINGS_COURSEKEY_PK PRIMARY KEY);

CREATE TABLE ENROLLMENT
(ECOURSEKEY VARCHAR2(8) CONSTRAINT ENROLLMENT_ECOURSEKEY_FK REFERENCES COURSE_OFFERINGS (COURSEKEY),
ESSN CHAR (9) CONSTRAINT ENROLLMENT_ESSN_FK REFERENCES STUDENT (SSSN),
EGRADE NUMBER(3,2),
PRIMARY KEY (ECOURSEKEY, ESSN));


